"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function t(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("react-dom");var a=t(e);!function(e,t){void 0===t&&(t={});var a=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===a&&i.firstChild?i.insertBefore(n,i.firstChild):i.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}('@import url("https://fonts.googleapis.com/css?family=Open+Sans");.chips-input-container{border:1px solid #d3d3d3;margin:1em;overflow:hidden;overflow-x:auto;overflow-y:unset;padding:1ex;vertical-align:middle;width:480px}div.inline{float:left}.input{-webkit-appearance:none;border:none;color:#565656;font:inherit;margin:auto;width:100%}.input:focus{border-color:#6495ed;outline:none}.input.has-error{border-color:tomato}.error{color:tomato;font-size:80%}.tag-item{background-color:#9b9b9b;border-radius:3px;display:inline-block;display:inline-flex;font:inherit;font-size:80%;margin:0 .3rem .3rem 0;padding:1px 4px 1px 1rem}.tag-item,.tag-item>.button{align-items:center;color:#f5f5f5;height:20px}.tag-item>.button{background-color:#fff;background-color:#9b9b9b;border:none;cursor:pointer;display:flex;font:inherit;font-weight:700;justify-content:center;line-height:1;margin-left:10px;padding:0;width:20px}');class i extends a.default.Component{state={items:[],value:"",error:null};handleKeyDown=e=>{if(["Enter","Tab",","].includes(e.key)){e.preventDefault();var t=this.state.value.trim();t&&this.isValid(t)&&this.setState({items:[...this.state.items,this.state.value],value:""}),this.props.onAddChips?this.props.onAddChips([...this.state.items,this.state.value]):console.log([...this.state.items,this.state.value])}};handleChange=e=>{this.setState({value:e.target.value,error:null})};handleDelete=e=>{this.setState({items:this.state.items.filter((t=>t!==e))})};handlePaste=e=>{e.preventDefault();var t=e.clipboardData.getData("text").match(/[\w\d\.-]+@[\w\d\.-]+\.[\w\d\.-]+/g);if(t){var a=t.filter((e=>!this.isInList(e)));this.setState({items:[...this.state.items,...a]})}};isValid(e){let t=null;return this.isInList(e)&&(t=`${e} has already been added.`),!t||(this.setState({error:t}),!1)}isInList(e){return this.state.items.includes(e)}render(){return a.default.createElement(a.default.Fragment,null,this.state.error&&a.default.createElement("p",{className:"error"},this.state.error),a.default.createElement("div",{className:"chips-input-container"},this.state.items.map((e=>a.default.createElement("div",{className:"tag-item inline",key:e},e,a.default.createElement("button",{type:"button",className:"button",onClick:()=>this.handleDelete(e)},"Ã—")))),a.default.createElement("div",{className:"inline"},a.default.createElement("input",{className:"input "+(this.state.error&&" has-error"),value:this.state.value,placeholder:this.props.placeholder,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onPaste:this.handlePaste}))))}}exports.ChipsInput=i;
